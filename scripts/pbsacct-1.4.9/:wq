#/bin/bash
 total_ncpus = split(exec_host,processornames,"+")                                      
                                       slash = index (processornames[p],"/")
                                        nodename = substr(processornames[p],1,slash-1)
                                        nodename_proc = substr(processornames[p],slash+1)
                                  #       for (npc=1;npc<=nodename_proc;npc++){
                                          result=$(echo $nodename_proc | grep "-")
                                           if [[ "$result" = "" ]]
                                        # DEBUG: printf("%s+", nodename)
                                        # Increment the # of processors on this node
                                          then
                                                nodeproc[nodename] += 1
                                          else
                                            slash_proc = (nodename_proc,"-")
                                            nodename_proc_begin=substr(nodename_proc,1,slash-1)
                                            nodename_proc_end=substr(nodename_proc,slash+1)
                                            nodename_proc_num=$nodename_proc_end-$nodename_proc_begin
                                            nodeproc[nodename] += $nodename_proc_num
                                           fi
